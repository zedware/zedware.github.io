---
layout: post
title: 文件系统和数据库的对比
original: https://blog.csdn.net/zedware/article/details/44785079
---

# 文件系统和数据库的对比

本文主要从单机系统的角度出发，对比通用的文件系统和数据库技术。想到哪里就写到哪里，遗漏的地方应该很多。

## 共同点
- 同属于系统软件或底层软件
- 都是用来存储和访问数据的
- 都有着悠久的研究开发历史
- 都有成熟的标准或规范。这既有利于开发可移植的程序，又不利于开发创新的系统，特别是分布式系统。
- 实现技术上也有很多的共同点- 大都采用C/C++这样更底层的语言
- 都需要保证数据的一致性，特别的，不同程度的支持事务
- 都有Block或Page或Allocation unit或Extent这样的概念
- 都用到Buffer cache、LRU、Group commit之类的概念和算法
- 都要针对各种负载做IO优化

## 不同点
- 数据库对事务的支持要强很多，文件系统可以只保证元数据的一致性
- 数据库有不同级别的一致性，以隔离级别的形式体现出来
- 数据库可以有REDO和UNDO日志，文件系统一般只用REDO
- 数据库的事务可以很长，文件系统的事务很短
- 数据库的事务事先无法确定，是用户输入的，文件系统的事务可以事先确定，种类明确
- 数据库是用户态实现的，文件系统一般是内核态实现的。因此，前者更容易做到跨OS平台
- 数据库的访问接口通常是非过程化的SQL语言，文件系统的则是API。二者对应的主流标准分别是SQL和POSIX
- 数据库对死锁可以做检测，文件系统则需要避免死锁

## 联系
- 数据库系统经常依赖于文件系统作为其最底层的存储，也可能会实现一些文件系统的功能
- 文件系统可以为数据库这种特殊的应用做专门的优化
- 文件系统可以被当做简单的数据库使用（例如VSAM），数据库也可以暴露出NFS（例如Oracle）
- 文件系统可能会用到一些简单的数据库功能（例如把符号链接当KV，实现简单的DB功能，或直接用一个小型的DBMS）
